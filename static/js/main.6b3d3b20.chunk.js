(this["webpackJsonpjacpe-web-client"]=this["webpackJsonpjacpe-web-client"]||[]).push([[0],{31:function(e,t,n){e.exports=n(47)},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(20),i=n.n(r),c=n(2),s=n(3),p=n(5),l=n(4),m=n(6),u=n(8),d=n(29),h=n(16),v=n(17),_=n(9),f=n(1),b=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"component-buttons"},o.a.createElement("div",{className:"button",onClick:function(){return t=e.props.component_id,void(0,e.props.dispatch)({type:Y,component_id:t});var t}},o.a.createElement("i",{className:"fas fa-sliders-h"})),o.a.createElement("div",{className:"button red",onClick:this.props.onDelete},o.a.createElement("i",{className:"fas fa-times"})))}}]),t}(o.a.Component),O=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(p.a)(this,Object(l.a)(t).call(this,e))).state={deleted:!1},n.deleteComponent=n.deleteComponent.bind(Object(f.a)(n)),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"deleteComponent",value:function(){var e;e=this.props.component_id,(0,this.props.dispatch)({type:ne,component_id:e}),this.setState({deleted:!0})}},{key:"render",value:function(){return!this.state.deleted&&o.a.createElement("div",{className:"ui-draggable-component"},this.props.children,o.a.createElement(b,{component_id:this.props.component_id,onDelete:this.deleteComponent,dispatch:this.props.dispatch}))}}]),t}(o.a.Component);var g=Object(u.b)((function(e){return{store_config:e.config}}))(O);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var E=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(p.a)(this,Object(l.a)(t).call(this,e))).state={last_component_props:e.component_props},n.save=n.save.bind(Object(f.a)(n)),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"save",value:function(){var e=this.props.store_config.components[this.props.target_component_id];e.props=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach((function(t){Object(_.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.props,{},this.props.component_props),re(e,this.props.dispatch),this.setState({last_component_props:this.props.component_props})}},{key:"render",value:function(){return o.a.createElement("div",{className:"content component-editor"},this.props.children,o.a.createElement("div",{className:"bottom-panel"+(this.state.last_component_props===this.props.component_props?" hidden":"")},o.a.createElement("div",null),o.a.createElement("div",null,o.a.createElement("button",{onClick:this.save,className:"ui-button1 big low-emp"},"save"))))}}]),t}(o.a.Component);var j=Object(u.b)((function(e){return{store_config:e.config}}))(E);n(40);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(n,!0).forEach((function(t){Object(_.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t=this,n=[],a=function(a){e=t.props.children[a],n.push(o.a.cloneElement(e,{key:e.props.value,selected:(t.props.selected||t.props.default)===e.props.value,onClick:function(){t.props.onChange(t.props.key_name,t.props.children[a].props.value)}}))};for(var r in this.props.children)a(r);return o.a.createElement("div",{className:"section"+(this.props.open?" open":"")},o.a.createElement("div",{className:"name",onClick:this.props.onClick},this.props.icon," ",this.props.name),o.a.createElement("div",{className:"name-arrow"},o.a.createElement("i",{className:"fas fa-chevron-down"})),o.a.createElement("div",{className:"container"},n))}}]),t}(o.a.Component);function C(e){return o.a.createElement("div",{className:"option"+(e.selected?" selected":""),onClick:e.onClick},o.a.createElement("div",null,o.a.createElement("div",{className:"tick"})," ",e.text),o.a.createElement("div",{className:"custom-icon"},e.custom_icon))}var k=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(p.a)(this,Object(l.a)(t).call(this,e))).state={PreviewComponent:function(){return!1},preview_component_props:D({component_id:"-1",dispatch:function(){return!1}},e.default_props),opened_section:void 0},n.props.preview_component&&(n.state.PreviewComponent=n.props.preview_component),n.onChange=n.onChange.bind(Object(f.a)(n)),n.onSectionClick=n.onSectionClick.bind(Object(f.a)(n)),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){e.default_props!==this.props.default_props&&this.setState({preview_component_props:D({component_id:"-1",dispatch:function(){return!1}},this.props.default_props)})}},{key:"onSectionClick",value:function(e){var t=e;e===this.state.opened_section&&(t=void 0),this.setState({opened_section:t})}},{key:"onChange",value:function(e,t){var n=this.state.preview_component_props;n[e]=t,delete n.dispatch,delete n.component_id,this.props.onChange&&this.props.onChange(n)}},{key:"render",value:function(){var e,t=this,n=[],a=function(a){e=t.props.children[a],n.push(o.a.cloneElement(e,{key:e.props.key_name,open:t.state.opened_section===e.props.key_name,selected:t.state.preview_component_props[e.props.key_name],onChange:t.onChange,onClick:function(){return t.onSectionClick(t.props.children[a].props.key_name)}}))};for(var r in this.props.children)a(r);return o.a.createElement("div",{className:"component-type-selector"},o.a.createElement("div",{className:"preview-window"},o.a.createElement(this.state.PreviewComponent,this.state.preview_component_props)),n)}}]),t}(o.a.Component);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach((function(t){Object(_.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){return{store_config:e.config}}var I=function(e){function t(e){var n;Object(c.a)(this,t),n=Object(p.a)(this,Object(l.a)(t).call(this,e));var a=e.store_config.components[e.target_component_id].props||{};n.state={component_props:a};var o={width:8,height:8,borderRadius:3};n.icon_color_red=S({},o,{backgroundColor:"var(--color-red)"}),n.icon_color_blue=S({},o,{backgroundColor:"var(--color-blue)"});var r={display:"flex",alignItems:"center",justifyContent:"center",width:14,height:14,borderRadius:3,fontSize:10};return n.icon_type_normal=S({},r,{color:"rgba(255, 255, 255, 0.95)",fontWeight:500,backgroundColor:"var(--color-blue)"}),n.icon_type_outlined=S({},r,{color:"var(--color-blue)",fontWeight:500,boxSizing:"border-box",border:"1px solid var(--color-blue)"}),n.icon_type_lowemp=S({},r,{color:"var(--color-blue)",fontWeight:500}),n.onInputChange=n.onInputChange.bind(Object(f.a)(n)),n.onTypeSelectorChange=n.onTypeSelectorChange.bind(Object(f.a)(n)),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){if(e.target_component_id!==this.props.target_component_id){var t=this.props.store_config.components[this.props.target_component_id].props||{};this.setState({component_props:t})}}},{key:"onInputChange",value:function(e){if(!e.target.name)return!1;this.setState({component_props:S({},this.state.component_props,Object(_.a)({},e.target.name,e.target.value))})}},{key:"onTypeSelectorChange",value:function(e){this.setState({component_props:S({},this.state.component_props,{},e)})}},{key:"render",value:function(){return o.a.createElement(j,{store_config:this.props.store_config,dispatch:this.props.dispatch,component_props:this.state.component_props,target_component_id:this.props.target_component_id},o.a.createElement("div",{className:"component-intro-block"},o.a.createElement("div",{className:"name"},"Button"),o.a.createElement("div",{className:"description"},"Used mainly for API calls.")),o.a.createElement("div",{className:"ui-input-with-name"},o.a.createElement("div",{className:"ui-input-name1"},"Text"),o.a.createElement("input",{type:"text",name:"text",className:"ui-input1",onChange:this.onInputChange,value:this.state.component_props.text||"",placeholder:"Button"})),o.a.createElement(k,{onChange:this.onTypeSelectorChange,preview_component:L,default_props:this.state.component_props},o.a.createElement(w,{key_name:"size",default:"bigger",name:"Size",icon:o.a.createElement("i",{className:"fas fa-ruler"})},o.a.createElement(C,{value:"small",text:"Small"}),o.a.createElement(C,{value:"bigger",text:"Default"}),o.a.createElement(C,{value:"big",text:"Big"})),o.a.createElement(w,{key_name:"emphasis",default:"normal",name:"Type",icon:o.a.createElement("i",{className:"fas fa-swatchbook"})},o.a.createElement(C,{value:"normal",text:"Normal",custom_icon:o.a.createElement("div",{style:this.icon_type_normal},"A")}),o.a.createElement(C,{value:"outlined",text:"Outlined",custom_icon:o.a.createElement("div",{style:this.icon_type_outlined},"A")}),o.a.createElement(C,{value:"low-emp",text:"Low emphasis",custom_icon:o.a.createElement("div",{style:this.icon_type_lowemp},"A")})),o.a.createElement(w,{key_name:"color",default:"blue",name:"Color",icon:o.a.createElement("i",{className:"fas fa-palette"})},o.a.createElement(C,{value:"blue",text:"Blue",custom_icon:o.a.createElement("div",{style:this.icon_color_blue})}),o.a.createElement(C,{value:"red",text:"Red",custom_icon:o.a.createElement("div",{style:this.icon_color_red})}))))}}]),t}(o.a.Component),T=Object(u.b)(x)(I),L=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t="ui-button"+((e="-1"!==this.props.component_id&&this.props.store_config&&this.props.store_config.components[this.props.component_id]?this.props.store_config.components[this.props.component_id].props||{}:this.props).type||"1");return e.size?t+=" "+e.size:t+=" bigger",e.color&&(t+=" "+e.color),e.emphasis&&(t+=" "+e.emphasis),o.a.createElement(g,{component_id:this.props.component_id},o.a.createElement("button",{className:t},e.text||"button"))}}]),t}(o.a.Component),A=Object(u.b)(x)(L);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(n,!0).forEach((function(t){Object(_.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e){return{store_config:e.config}}var R=function(e){function t(e){var n;Object(c.a)(this,t),n=Object(p.a)(this,Object(l.a)(t).call(this,e));var a=e.store_config.components[e.target_component_id].props||{};return n.state={component_props:a},n.onInputChange=n.onInputChange.bind(Object(f.a)(n)),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){if(e.target_component_id!==this.props.target_component_id){var t=this.props.store_config.components[this.props.target_component_id].props||{};this.setState({component_props:t})}}},{key:"onInputChange",value:function(e){if(!e.target.name)return!1;this.setState({component_props:U({},this.state.component_props,Object(_.a)({},e.target.name,e.target.value))})}},{key:"render",value:function(){return o.a.createElement(j,{store_config:this.props.store_config,dispatch:this.props.dispatch,component_props:this.state.component_props,target_component_id:this.props.target_component_id},o.a.createElement("div",{className:"component-intro-block"},o.a.createElement("div",{className:"name"},"Input Field"),o.a.createElement("div",{className:"description"},"A basic input field.")),o.a.createElement("div",{className:"ui-input-with-name"},o.a.createElement("div",{className:"ui-input-name1"},"Component name"),o.a.createElement("input",{type:"text",name:"api_name",className:"ui-input1 monospace",onChange:this.onInputChange,value:this.state.component_props.api_name||"",placeholder:"username"}),o.a.createElement("div",{className:"ui-text small gray"},o.a.createElement("i",{className:"fas fa-exclamation-circle"}),"This name will be used in API calls.")),o.a.createElement("div",{className:"ui-spacer dot"}),o.a.createElement("div",{className:"ui-input-with-name"},o.a.createElement("div",{className:"ui-input-name1"},"Display name"),o.a.createElement("input",{type:"text",name:"display_name",className:"ui-input1",onChange:this.onInputChange,value:this.state.component_props.display_name||"",placeholder:"Username"})),o.a.createElement("div",{className:"ui-select-with-name"},o.a.createElement("div",{className:"ui-input-name1"},"Input type"),o.a.createElement("select",{name:"input_type",onChange:this.onInputChange,value:this.state.component_props.input_type||"",className:"ui-input1"},o.a.createElement("option",{value:"text"},"Text"),o.a.createElement("option",{value:"number"},"Number"),o.a.createElement("option",{value:"email"},"Email"),o.a.createElement("option",{value:"password"},"Password"),o.a.createElement("option",{value:"url"},"URL"),o.a.createElement("option",{value:"date"},"Date"),o.a.createElement("option",{value:"datetime-local"},"Date and time"),o.a.createElement("option",{value:"month"},"Month and year"),o.a.createElement("option",{value:"time"},"Time"))),o.a.createElement("div",{className:"ui-input-with-name"},o.a.createElement("div",{className:"ui-input-name1"},"Default value"),o.a.createElement("input",{type:"text",name:"default_value",className:"ui-input1",onChange:this.onInputChange,value:this.state.component_props.default_value||"",placeholder:"foobar"})),o.a.createElement("div",{className:"ui-input-with-name"},o.a.createElement("div",{className:"ui-input-name1"},"Pattern"),o.a.createElement("input",{type:"text",name:"pattern",className:"ui-input1 monospace",onChange:this.onInputChange,value:this.state.component_props.pattern||"",placeholder:"[A-Za-z]"})))}}]),t}(o.a.Component),B=Object(u.b)(M)(R),F=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(p.a)(this,Object(l.a)(t).call(this,e))).state={value:""},n.onChange=n.onChange.bind(Object(f.a)(n)),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){"-1"!==this.props.component_id&&this.props.store_config&&this.props.store_config.components[this.props.component_id].prop&&this.setState({value:this.props.store_config.components[this.props.component_id].props.default_value||""})}},{key:"onChange",value:function(e){var t={};e.target.checkValidity()?t.invalid=!1:t.invalid=!0,t.value=e.target.value,this.setState(t)}},{key:"render",value:function(){var e;return e="-1"!==this.props.component_id&&this.props.store_config&&this.props.store_config.components[this.props.component_id]?this.props.store_config.components[this.props.component_id].props||{}:this.props,o.a.createElement(g,{component_id:this.props.component_id},o.a.createElement("div",{className:"ui-input-with-name"},o.a.createElement("div",{className:"ui-input-name1"},e.display_name||"Input field"),o.a.createElement("input",{type:e.input_type||"text",name:e.api_name,className:"ui-input1"+(this.state.invalid?" invalid":""),value:this.state.value,pattern:e.pattern,onChange:this.onChange})))}}]),t}(o.a.Component),G=Object(u.b)(M)(F),W=n(18),V=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"component-intro-block"},o.a.createElement("div",{className:"name"},"Horizontal container"),o.a.createElement("div",{className:"description"},"Used to horizontally position other components.")),o.a.createElement("div",{className:"ui-text"},"\ud83d\udea7 Options will be here..."))}}]),t}(o.a.Component),X=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(p.a)(this,Object(l.a)(t).call(this,e))).state={dragOver:!1,child_components:[]},n.onDragEnter=n.onDragEnter.bind(Object(f.a)(n)),n.onDragLeave=n.onDragLeave.bind(Object(f.a)(n)),n.onDragOver=n.onDragOver.bind(Object(f.a)(n)),n.onDrop=n.onDrop.bind(Object(f.a)(n)),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return t.child_components!==this.state.child_components||(t.dragOver!==this.state.dragOver||e.store_config.components[this.props.component_id]!==this.props.store_config.components[this.props.component_id])}},{key:"componentDidUpdate",value:function(e){var t=this.props.store_config.components[this.props.component_id];if(e.store_config.components[this.props.component_id]!==t){for(var n=t.child_components.length,a=[],o=0;o<n;o++){var r=t.child_components[o],i=this.props.store_config.components[r];i&&a.push(i.element)}this.setState({child_components:a})}}},{key:"onDragEnter",value:function(e){return this.setState({dragOver:!0}),e.preventDefault(),!0}},{key:"onDragLeave",value:function(e){return this.setState({dragOver:!1}),e.preventDefault(),!0}},{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onDrop",value:function(e){var t=e.dataTransfer.getData("text");if("horizontal_container"===t)return this.setState({dragOver:!1}),e.stopPropagation(),!1;var n,a,o=Z(t);if(o){var r,i={element:o,type:t,panel_id:this.props.panel_id};r=this.props.store_config.components[this.props.component_id].child_components?[].concat(Object(W.a)(this.props.store_config.components[this.props.component_id].child_components),[o.props.component_id]):[o.props.component_id],re(i,this.props.dispatch),n=this.props.component_id,a=r,(0,this.props.dispatch)({type:ie,component_id:n,child_components:a})}return this.setState({dragOver:!1}),e.stopPropagation(),!1}},{key:"render",value:function(){return o.a.createElement(g,{component_id:this.props.component_id},o.a.createElement("div",{className:"ui-ccontainer"+(this.state.dragOver?" drag-over":""),onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onDragOver:this.onDragOver},this.state.child_components))}}]),t}(o.a.Component);var H=Object(u.b)((function(e){return{store_config:e.config}}))(X);function J(){return Math.floor(9999999999*Math.random()).toString()}function Z(e,t){var n=J();switch(e){case"button":return o.a.createElement(A,{key:n,component_id:n});case"input":return o.a.createElement(G,{key:n,component_id:n});case"horizontal_container":return o.a.createElement(H,{key:n,component_id:n,panel_id:t});default:return!1}}var $=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(p.a)(this,Object(l.a)(t).call(this,e))).state={dragOver:!1,empty:!0,deleted:!1,child_components:[]},n.deletePanel=n.deletePanel.bind(Object(f.a)(n)),n.onDragEnter=n.onDragEnter.bind(Object(f.a)(n)),n.onDragLeave=n.onDragLeave.bind(Object(f.a)(n)),n.onDragOver=n.onDragOver.bind(Object(f.a)(n)),n.onDrop=n.onDrop.bind(Object(f.a)(n)),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!this.state.deleted&&(t.deleted!==this.state.deleted||(t.empty!==this.state.empty||(t.child_components!==this.state.child_components||e.store_config.panels[this.props.panel_id]!==this.props.store_config.panels[this.props.panel_id])))}},{key:"componentDidUpdate",value:function(e){if(!1===this.props.store_config.panels[this.props.panel_id])return this.setState({deleted:!0}),!1;var t=this.props.store_config.panels[this.props.panel_id];if(e.store_config.panels[this.props.panel_id]!==t){var n=t.child_components.length;if(0===n)return void this.setState({empty:!0});for(var a=[],o=0;o<n;o++){var r=t.child_components[o],i=this.props.store_config.components[r];i&&a.push(i.element)}this.setState({child_components:a,empty:!1})}}},{key:"onDragEnter",value:function(e){return this.setState({dragOver:!0}),e.preventDefault(),!0}},{key:"onDragLeave",value:function(e){return this.setState({dragOver:!1}),e.preventDefault(),!0}},{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onDrop",value:function(e){var t=e.dataTransfer.getData("text"),n=Z(t,this.props.panel_id);return n&&function(e,t,n,a){a({type:oe,component_object:{element:e,type:t,panel_id:n}}),a({type:ae,panel_id:n,component_id:e.props.component_id})}(n,t,this.props.panel_id,this.props.dispatch),this.setState({dragOver:!1}),e.stopPropagation(),!1}},{key:"deletePanel",value:function(){var e;e=this.props.panel_id,(0,this.props.dispatch)({type:te,panel_id:e}),this.props.onDelete&&this.props.onDelete(this.props.panel_id)}},{key:"render",value:function(){return!this.state.deleted&&o.a.createElement("div",{className:"draggable-panel"+(this.state.dragOver?" drag-over":"")+(this.state.empty?" empty":""),panel_id:this.props.panel_id,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onDragOver:this.onDragOver},this.state.child_components,this.state.empty&&o.a.createElement("div",{className:"center-text"},"This panel is empty"),o.a.createElement("div",{className:"panel-buttons"},o.a.createElement("div",{className:"button"},o.a.createElement("i",{className:"fas fa-sliders-h"})),o.a.createElement("div",{className:"button red",onClick:this.deletePanel},o.a.createElement("i",{className:"fas fa-times"}))))}}]),t}(o.a.Component);var q=Object(u.b)((function(e){return{store_config:e.config}}))($),K="EDITMODE_ENTER";var Q="EDITMODE_LEAVE";var Y="EDITMODE_SELECT_COMPONENT";var ee="CONFIG_ADD_PANEL";var te="CONFIG_DELETE_PANEL";var ne="CONFIG_DELETE_COMPONENT";var ae="CONFIG_PANEL_ADD_COMPONENT";var oe="CONFIG_EDIT_COMPONENT";function re(e,t){t({type:oe,component_object:e})}var ie="CONFIG_COMPONENT_EDIT_CHILDREN";function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(n,!0).forEach((function(t){Object(_.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe={active:!1,selected_component:void 0};function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(n,!0).forEach((function(t){Object(_.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue={panels:{},components:{}},de=Object(v.b)({edit_mode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return se({},e,{active:!0});case Q:return se({},e,{active:!1});case Y:return se({},e,{selected_component:t.component_id});default:return e}},config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return me({},e,{panels:me({},e.panels,Object(_.a)({},t.panel.id,t.panel))});case te:var n=e.components,a=!0,o=!1,r=void 0;try{for(var i,c=e.panels[t.panel_id].child_components[Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var s=i.value;if(n[s]&&n[s].child_components){var p=!0,l=!1,m=void 0;try{for(var u,d=n[s].child_components[Symbol.iterator]();!(p=(u=d.next()).done);p=!0){var h=u.value;delete n[h]}}catch(j){l=!0,m=j}finally{try{p||null==d.return||d.return()}finally{if(l)throw m}}}delete n[s]}}catch(j){o=!0,r=j}finally{try{a||null==c.return||c.return()}finally{if(o)throw r}}return me({},e,{panels:me({},e.panels,Object(_.a)({},t.panel_id,!1)),components:n});case ne:var v=e.components;if(v[t.component_id]&&v[t.component_id].child_components){var f=!0,b=!1,O=void 0;try{for(var g,y=v[t.component_id].child_components[Symbol.iterator]();!(f=(g=y.next()).done);f=!0){var E=g.value;delete v[E]}}catch(j){b=!0,O=j}finally{try{f||null==y.return||y.return()}finally{if(b)throw O}}}return delete v[t.component_id],me({},e,{components:v});case ae:return me({},e,{panels:me({},e.panels,Object(_.a)({},t.panel_id,me({},e.panels[t.panel_id],{child_components:[].concat(Object(W.a)(e.panels[t.panel_id].child_components),[t.component_id])})))});case oe:return me({},e,{components:me({},e.components,Object(_.a)({},t.component_object.element.props.component_id,t.component_object))});case ie:return me({},e,{components:me({},e.components,Object(_.a)({},t.component_id,me({},e.components[t.component_id],{child_components:t.child_components})))});default:return e}}}),he=Object(v.c)(de,void 0,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),ve=(n(41),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(p.a)(this,Object(l.a)(t).call(this,e))).switchEditmode=n.switchEditmode.bind(Object(f.a)(n)),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"switchEditmode",value:function(){this.props.store_editmode.active?(0,this.props.dispatch)({type:Q}):function(e){e({type:K})}(this.props.dispatch)}},{key:"render",value:function(){return o.a.createElement("div",{id:"top-panel"},o.a.createElement("div",{className:"left"}),o.a.createElement("div",{className:"middle"}),o.a.createElement("div",{className:"right"},o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"button ui-tooltip-container"+(this.props.store_editmode.active?" active":""),onClick:this.switchEditmode},o.a.createElement("i",{className:"material-icons"},"edit"),o.a.createElement("div",{className:"ui-tooltip bottom"},this.props.store_editmode.active?"Leave edit mode":"Enter edit mode"))),o.a.createElement("div",{className:"user-avatar"})))}}]),t}(o.a.Component));var _e=Object(u.b)((function(e){return{store_editmode:e.edit_mode}}))(ve),fe=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(p.a)(this,Object(l.a)(t).call(this,e))).state={child_panels:[],deleted:!1},n.createNewPanel=n.createNewPanel.bind(Object(f.a)(n)),n.onPanelDeleted=n.onPanelDeleted.bind(Object(f.a)(n)),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"createNewPanel",value:function(){var e=function(e){var t=J();return e({type:ee,panel:{id:t,child_components:[]}}),o.a.createElement(q,{key:t,panel_id:t})}(this.props.dispatch),t={panel_id:e.props.panel_id,element:e};this.setState({child_panels:[].concat(Object(W.a)(this.state.child_panels),[t])}),this.props.onClick&&this.props.onClick()}},{key:"onPanelDeleted",value:function(e){var t=this.state;for(var n in t.child_panels)if(t.child_panels[n].panel_id===e){t.child_panels.splice(n,1);break}0===t.child_panels.length&&(t.deleted=!0),this.setState(t)}},{key:"render",value:function(){if(this.state.deleted)return!1;var e=[],t=!0,n=!1,a=void 0;try{for(var r,i=this.state.child_panels[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var c=r.value;e.push(o.a.cloneElement(c.element,{panel_id:c.panel_id,onDelete:this.onPanelDeleted}))}}catch(s){n=!0,a=s}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}return o.a.createElement("div",{className:"root-panels-container"+(this.props.hidden?" hidden":"")+(this.props.new_container?" new_container":"")},e,o.a.createElement("div",{className:"panel-placeholder",onClick:this.createNewPanel},this.props.new_container?o.a.createElement("div",{className:"add-icon"},o.a.createElement("i",{className:"fas fa-chevron-right"})):o.a.createElement("div",{className:"add-icon"},o.a.createElement("i",{className:"fas fa-plus"}))))}}]),t}(o.a.Component);var be=Object(u.b)((function(e){return{store_editmode:e.edit_mode}}))(fe),Oe=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(p.a)(this,Object(l.a)(t).call(this,e))).onDragStart=n.onDragStart.bind(Object(f.a)(n)),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onDragStart",value:function(e){return e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text",this.props.component_type),!0}},{key:"render",value:function(){return o.a.createElement("div",{className:"item",draggable:!0,onDragStart:this.onDragStart},o.a.createElement("div",{className:"component"},this.props.children),o.a.createElement("div",{className:"name"},this.props.name))}}]),t}(o.a.Component),ge=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"draggable-components-drawer"},o.a.createElement("div",{className:"container"},o.a.createElement(Oe,{name:"Button",component_type:"button"},o.a.createElement("button",{className:"ui-button1 bigger"},"button")),o.a.createElement(Oe,{name:"Input field",component_type:"input"},o.a.createElement("div",{className:"ui-input-with-name"},o.a.createElement("div",{className:"ui-input-name1"},"Input field"),o.a.createElement("input",{type:"text",className:"ui-input1",style:{width:"100px"}}))),o.a.createElement(Oe,{name:"Container",component_type:"horizontal_container"},o.a.createElement("div",{className:"components-container"},o.a.createElement("div",null)))))}}]),t}(o.a.Component),ye=(n(42),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(p.a)(this,Object(l.a)(t).call(this,e))).state={root_panel_containers_count:1},n.createRootContainer=n.createRootContainer.bind(Object(f.a)(n)),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"createRootContainer",value:function(){this.setState({root_panel_containers_count:this.state.root_panel_containers_count+1})}},{key:"render",value:function(){for(var e=[],t=0;t<this.state.root_panel_containers_count;t++)e.push(o.a.createElement(be,{key:t}));return o.a.createElement("div",{className:"route dynamic-page"+(this.props.store_editmode.active?" edit-mode":"")},e,o.a.createElement(be,{key:this.state.root_panel_containers_count+1,new_container:!0,hidden:!this.props.store_editmode.active,onClick:this.createRootContainer}),o.a.createElement(ge,null))}}]),t}(o.a.Component));var Ee=Object(u.b)((function(e){return{store_editmode:e.edit_mode}}))(ye),je=(n(43),function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){if(!this.props.store_editmode.active||!this.props.store_editmode.selected_component)return!1;var e=this.props.store_editmode.selected_component,t=this.props.store_config.components[e];if(!t)return!1;switch(t.type){case"input":return o.a.createElement(B,{target_component_id:e});case"button":return o.a.createElement(T,{target_component_id:e});case"horizontal_container":return o.a.createElement(V,{target_component_id:e});default:return!1}}}]),t}(o.a.Component)),Ne=function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{id:"left-panel",className:this.props.store_editmode.active?"shown":""},this.props.store_editmode.active&&o.a.createElement(je,{store_editmode:this.props.store_editmode,store_config:this.props.store_config}))}}]),t}(o.a.Component);var De=Object(u.b)((function(e){return{store_editmode:e.edit_mode,store_config:e.config}}))(Ne),we=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(p.a)(this,Object(l.a)(t).call(this,e))).store=he,n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(d.a,null,o.a.createElement(u.a,{store:this.store},o.a.createElement(_e,null),o.a.createElement("div",{id:"content"},o.a.createElement(De,null),o.a.createElement("div",{id:"router"},o.a.createElement(h.a,{path:"/:page_id",component:Ee}),o.a.createElement(h.a,{path:"*",component:function(){return o.a.createElement("div",null,"Go to /something to see an exaple")}})))))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(45),n(46);i.a.render(o.a.createElement(we,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[31,1,2]]]);
//# sourceMappingURL=main.6b3d3b20.chunk.js.map